◆発表日   : 平成24年2月17日(金)
◆発表会場 : 岡山大学工学部4号館11番講義室
◆発表題目 : MintオペレーティングシステムにおけるOS環境の高速な複製手
             法
◆発表者   : 西田 潤
◆概要:
  計算機のハードウェアは高性能化が進んでおり，1つのチップに数百個のコ
アの搭載されたメニーコアプロセッサが登場している．また，メモリの容量も
増加し，デバイスも多様化している．この結果，1つのOSがすべてのコアやメ
モリ，デバイスを管理するためには，これまで以上にOSの構造は複雑化する．
このため，1つのOSではコア，メモリ，およびデバイスの管理が難しくなると
考えられる．この問題を解決するために，複数のOSを用意し，それぞれのOSで
動作させるプロセスにとって動作に適したコア数，メモリ量，およびデバイス
のみを保有する．こうすることにより，プロセスの効率的な動作が期待できる．
  上記の目標を実現するため，1台の計算機上で高い独立性を持った複数のOS
を走行させ，それぞれのOSに計算機資源を割り当てることができる方式として，
Mint が研究開発されている．Mint では，複数のOS間で高い独立性を実現して
いる．
  Mintは，最初に1つのOS(以降，先行OS)を起動させ，先行OSが後から複数のO
S(以降，後続OS)を順次起動させる．この際，後続OSのカーネルイメージをHDD
から読み込んで実行する．また，後続OSを起動させる際，システムコールを複
数回呼び出している．このため，後続OSの起動に時間がかかる．Mintにおいて
多数のOSを走行させる場合，後続OSの起動に時間がかかることよって，OSの数
を高速に増やせないことが問題となる．
  そこで，Mintにおいて，先行OSの環境を高速に複製する手法を設計する．こ
の手法では，後続OSを起動させる際，後続OSのカーネルイメージをHDDから読
み込まず，走行中の先行OSをメモリから複製することで後続OSを起動する．ま
た，OSを起動させる際，システムコールの呼び出し回数を減らす．この結果，
現行のMintよりも高速に後続OSを起動できる．
  本論文では，OS環境の高速な複製手法の基本設計とこれを実現するための課
題を明確にした．また，複製先OSの初期化ルーチンにおいてページテーブルの
初期化に関する実装を示した．


◆質疑応答:(質問者(敬称略))
Q1: システムコールの呼び出し回数の削減とOSの複製との関係はどのようにな
    っているのか．                                              (山内)
A1: 複製先OSを起動させる際，ロード処理とIPI送信という2つのシステムコー
    ルを呼び出しており，この2つをまとめることで呼び出し回数の削減を行
    っている．

Q2: OSを複製する際，OSの初期化処理もOS内に入っているが，ページテーブル
    の初期化処理の変更などはどのように行っているのか．          (同上)
A2: ページテーブルの初期化処理は，カーネルに入る前に前段階の処理として
    行っている．このため，カーネルのコードの書き換えは行われる．

Q3: 仮想アドレスを同一にした後，カーネルから実アドレスで見ることはない
    のか．                                                    (名古屋)
A3: ないと言えないため，今後，検討する．

◆反省と感想:
(1) 時間内に発表を終えることができなかったが，落ち着いて発表できた．
(2) ディスプレイばかり見ており，聴講者の方を向いて話していなかった．
(3) Q3は，「実アドレスでみる場合も想定されるため，複製先カーネルをusab
    le領域の先頭から16MB後方に配置している．」と答えるべきであった．